---
import { Image } from 'astro:assets';

import benefit1 from '@assets/images/benefits/benefit-pic-1.png';
import benefit2 from '@assets/images/benefits/benefit-pic-2.png';
import benefit3 from '@assets/images/benefits/benefit-pic-3.png';
import benefit4 from '@assets/images/benefits/benefit-pic-4.png';
import benefit5 from '@assets/images/benefits/benefit-pic-5.png';
import benefit6 from '@assets/images/benefits/benefit-pic-6.svg';

import billPayment1 from '@assets/icons/Electricity.svg';
import billPayment2 from '@assets/icons/Gas.svg';
import billPayment3 from '@assets/icons/Water.svg';
import billPayment4 from '@assets/icons/Telcos.svg';

import earth from '@assets/images/benefits/earth.png';
import guy from '@assets/images/benefits/guy.png';
import girl from '@assets/images/benefits/girl.png';
import aniaHala from '@assets/images/benefits/ania-hala.png';

const benefits = [
  {
    image: benefit1,
    isSvg: false,
    alt: 'Benefit 1',
    title: 'Current or Savings Account',
    description: [
      'No minimum balance is required.',
      'Earn +10% profit on savings.',
      'Multiple transactions are available, including utility bill payments, mobile top-ups, and fund transfers.', // Combined for better flow
    ],
    boldText: 'Earn +10% profit on savings.',
  },
  {
    image: benefit2,
    isSvg: false,
    alt: 'Benefit 2',
    title: 'Home Remittance Account',
    description: [
      'Receive international money directly to your home remittance account and earn cashback on every transfer!',
    ],
    boldText: 'earn cashback on every transfer!',
  },
  {
    image: benefit3,
    isSvg: false,
    alt: 'Benefit 3',
    title: 'Peer-to-Peer transfers',
    description: [
      'Instantly send money to friends using their mobile number or contacts—fast, secure, and hassle-free!',
    ],
  },
  {
    image: benefit4,
    isSvg: false,
    alt: 'Benefit 4',
    title: 'Splitting bills with friends',
    description: [
      "Splitting bills with friends using Jingle Pay is quick, easy, and fun—it's the fastest way to divide any amount!",
    ],
  },
  {
    image: benefit5,
    isSvg: false,
    alt: 'Benefit 5',
    title: 'Requesting money',
    description: [
      'Get paid easily by sending a money request to friends using their mobile number or contacts. Quick and secure!',
    ],
  },
  {
    image: benefit6,
    isSvg: true,
    alt: 'Benefit 6',
    title: 'Free Mastercard Debit card',
    description: [
      'Unlock your freedom with a versatile debit card! Enjoy a joining bonus and earn cashback on every transaction.',
    ],
  },
];

const billPaymentIcons = [
  { icon: billPayment1, text: 'Electricity' },
  { icon: billPayment2, text: 'Gas' },
  { icon: billPayment3, text: 'Water' },
  { icon: billPayment4, text: 'Telcos' },
];

// --- Image Optimization Config ---
// Adjust widths based on max expected size in the grid (e.g., 1/3 of container width on large screens)
// Sizes reflect ~100% width on small, ~50% on medium, ~33% on large viewports
const benefitImageWidths = [200, 300, 400];
const benefitImageSizes = '(max-width: 639px) 90vw, (max-width: 1023px) 45vw, 30vw';

const earthImageWidths = [200, 300, 380];
const earthImageSizes = '(max-width: 767px) 60vw, (max-width: 1023px) 40vw, 380px'; // Adjust based on layout

const sideImageWidths = [150, 220, 294]; // For guy, girl, aniaHala
const guyImageSizes = '(max-width: 767px) 45vw, (max-width: 1023px) 30vw, 294px'; // Adjust
const girlImageSizes = '(max-width: 767px) 45vw, (max-width: 1023px) 30vw, 280px'; // Adjust
const aniaHalaImageSizes = '(max-width: 767px) 30vw, (max-width: 1023px) 20vw, 180px'; // Adjust
---

<div
  id='benefits-section'
  class='flex flex-col items-center px-4 py-12 mx-auto gap-y-12 md:gap-y-16 lg:gap-y-20 sm:px-8 md:px-12 lg:px-16 md:py-16 lg:py-20'
>
  {/* Responsive padding, max-width */}
  <div class='flex flex-col items-center text-center gap-y-3 sm:gap-y-4'>
    <h4 class='text-3xl font-extrabold sm:text-4xl text-slate-900'>What are the benefits for you?</h4>
    <span class='max-w-3xl text-base font-normal sm:text-lg md:text-xl text-zinc-700'>
      We make banking accessible by offering affordable, inclusive financial services through a tailored digital
      experience.
    </span>
  </div>

  <div class='grid w-full grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3 md:gap-12 lg:gap-16'>
    {
      benefits.map((benefit) => (
        <div
          class='flex flex-col items-center text-center sm:items-start sm:text-start gap-y-4'
          id={benefit.alt.toLowerCase().split(' ').join('-')}
        >
          {benefit.isSvg ? (
            <div class='rounded-2xl relative bg-[radial-gradient(ellipse_at_center,_white_0%,_#F4F4F6_100%)] flex justify-center items-center p-8 md:p-10 w-full aspect-[4/3] max-h-[260px] sm:max-h-[300px]'>
              {' '}
              {/* Responsive padding & aspect ratio */}
              <Image
                src={benefit.image}
                alt={benefit.alt}
                class='object-contain w-auto max-h-full'
                loading='lazy'
                decoding='async'
              />
            </div>
          ) : (
            <Image
              src={benefit.image}
              alt={benefit.alt}
              widths={benefitImageWidths}
              sizes={benefitImageSizes}
              class='w-full h-auto aspect-[4/3] object-contain max-h-[260px] sm:max-h-[300px] rounded-lg'
              loading='lazy'
              decoding='async'
            />
          )}

          <h5 class='w-full text-lg font-extrabold sm:text-xl text-slate-800'>{benefit.title}</h5>
          <div class='flex flex-col w-full text-base text-gray-600 sm:text-lg'>
            {benefit.description.map((desc) => {
              const boldIndex = benefit.boldText ? desc.indexOf(benefit.boldText) : -1;
              return (
                <p class={`leading-relaxed ${boldIndex !== -1 ? 'font-normal' : ''}`}>
                  {boldIndex !== -1 ? (
                    <>
                      {desc.substring(0, boldIndex)}
                      <strong class='font-semibold text-gray-700'>{benefit.boldText}</strong>
                      {desc.substring(boldIndex + (benefit.boldText || '').length)}
                    </>
                  ) : (
                    desc
                  )}
                </p>
              );
            })}
          </div>
        </div>
      ))
    }
  </div>

  <div
    id='bill-payments'
    class='bg-slate-100 text-center py-8 sm:py-9 flex flex-col items-center justify-center gap-y-5 sm:gap-y-7 px-6 sm:px-12 md:px-16 lg:px-24 rounded-2xl md:rounded-[30px] w-full'
  >
    <h5 class='text-2xl font-extrabold sm:text-3xl text-slate-900'>Bill Payments made easy</h5>
    <span class='max-w-3xl text-base font-normal sm:text-lg md:text-xl text-zinc-700'
      >Say goodbye to bill stress with Jingle Pay! Effortlessly manage your utility payments and set up reminders to
      never miss a due date again. Simplify your life—let Jingle Pay handle your bills!</span
    >

    <div class='grid grid-cols-2 gap-6 mt-4 sm:grid-cols-2 lg:grid-cols-4'>
      {
        billPaymentIcons.map((item) => (
          <div class='flex flex-col items-center text-center gap-y-2 sm:gap-y-3'>
            <Image
              src={item.icon}
              alt={item.text}
              class='w-15 h-15 sm:h-18 sm:w-18 md:h-21 md:w-21'
              loading='lazy'
              decoding='async'
            />{' '}
            <span class='text-sm font-medium sm:text-base md:text-lg text-zinc-800'>{item.text}</span>
          </div>
        ))
      }
    </div>
  </div>

  <div class='flex flex-col w-full xl:flex-row gap-y-8 xl:gap-x-7'>
    <div
      class='bg-gradient-to-br from-teal-400 via-green-400 to-teal-400 rounded-xl md:rounded-[20px] p-6 sm:p-8 md:p-10 xl:p-12 w-full flex flex-col justify-between text-black'
    >
      <p class='w-full max-w-[20rem]'>
        <span class='block text-lg font-medium text-left sm:text-xl opacity-90'>Trusted by</span>
        <span class='block mt-1 text-4xl font-black text-center sm:text-5xl md:text-6xl 2xl:text-5xl'>+500,000</span>
        <span class='block mt-1 text-lg font-medium text-right sm:text-xl opacity-90 sm:mt-0'>Users worldwide</span>
      </p>

      <div class='flex items-center justify-center w-full'>
        <Image
          src={earth}
          alt='Earth illustration'
          widths={earthImageWidths}
          sizes={earthImageSizes}
          class='max-h-[250px] sm:max-h-[300px] md:max-h-[380px] xl:max-h-[310px] w-auto'
          loading='lazy'
          decoding='async'
        />
      </div>

      <p class='mt-4 text-right sm:mt-0'>
        <span class='block text-4xl font-extrabold sm:text-5xl md:text-6xl 2xl:text-5xl'>USD 2 Billion</span>
        <span class='block text-2xl font-extrabold sm:text-3xl md:text-4xl opacity-90'>Transactions</span>
      </p>
    </div>

    <div class='flex flex-col gap-y-4 sm:gap-y-6 xl:gap-y-[22px] w-full'>
      <div class='flex flex-col sm:flex-row items-stretch gap-4 sm:gap-6 xl:gap-[22px]'>
        <Image
          src={guy}
          alt='Jingle Pay User 1 - Smiling man'
          width={294}
          widths={sideImageWidths}
          sizes={guyImageSizes}
          class='w-full sm:w-1/2 h-auto object-cover rounded-lg md:rounded-[20px]'
          loading='lazy'
          decoding='async'
        />
        <div
          class='flex flex-col items-center justify-between rounded-lg md:rounded-[20px] w-full sm:w-1/2 p-4 sm:p-6 bg-slate-100 gap-y-4'
        >
          <span class='text-lg font-black text-center sm:text-xl lg:mt-[6rem] text-slate-800 lg:text-3xl'
            >ZERO FEES</span
          >
          <Image
            src={aniaHala}
            alt='Jingle Pay User 2 - Ania & Hala'
            width={180}
            widths={sideImageWidths}
            sizes={aniaHalaImageSizes}
            class='max-w-[120px] sm:max-w-[150px] md:max-w-[180px] h-auto object-contain'
            loading='lazy'
            decoding='async'
          />
        </div>
      </div>
      <div
        class='flex flex-col sm:flex-row items-stretch justify-center p-4 sm:p-6 gap-4 sm:gap-6 bg-slate-100 rounded-lg md:rounded-[20px]'
      >
        <div class='flex flex-col justify-between lg:justify-center gap-y-4 flex-1 sm:min-h-[200px] md:min-h-[267px]'>
          <div>
            <span class='block text-lg font-black sm:text-xl lg:text-3xl xl:text-lg text-slate-800'
              >Savings generated for customers</span
            >
            <span class='block mt-2 text-2xl font-black sm:text-3xl lg:text-5xl xl:text-xl text-slate-900'
              >USD 5,000,000
            </span>
          </div>
          <span class='block mt-4 text-base font-normal text-gray-600 sm:text-lg lg:text-2xl xl:text-lg'
            >Jingle Pay is democratizing access to financial services</span
          >
        </div>
        <Image
          src={girl}
          alt='Jingle Pay User 3 - Woman smiling'
          widths={sideImageWidths}
          sizes={girlImageSizes}
          class='w-full max-w-[450px] xl:max-w-[250px] 2xl:max-w-[200px] h-auto object-cover rounded-lg md:rounded-[20px] self-center sm:self-auto'
          loading='lazy'
          decoding='async'
        />
      </div>
    </div>
  </div>
</div>
