---
import { Image } from 'astro:assets';
import Link from '@components/common/Link.astro';

import logo from '@assets/logos/jplogowhitesvg.svg';

import facebook from '@assets/icons/facebook.svg';
import instagram from '@assets/icons/instagram.svg';
import twitter from '@assets/icons/twitter.svg';
import linkedin from '@assets/icons/linkedin.svg';
import youtube from '@assets/icons/youtube.svg';

const {
  translations: { footer = {} },
} = Astro.locals;

// Define social media links (no changes needed here)
const socialLinks = [
  { href: 'https://www.facebook.com/JinglePay/', icon: facebook, alt: 'Facebook' },
  { href: 'https://www.instagram.com/jinglepay/', icon: instagram, alt: 'Instagram' },
  { href: 'https://x.com/jinglepay/', icon: twitter, alt: 'Twitter' },
  { href: 'https://www.linkedin.com/company/jinglepay/', icon: linkedin, alt: 'LinkedIn' }, // Corrected alt text
  { href: 'https://www.youtube.com/@jinglepay', icon: youtube, alt: 'YouTube' }, // Corrected alt text
];
---

<footer class='w-full text-white bg-neutral-800'>
  <div class='container px-4 py-10 mx-auto max-w-screen-xl sm:px-6 md:px-8 lg:px-12 lg:py-16 xl:py-20'>
    <div class='flex flex-col gap-y-10 lg:gap-y-12'>
      <nav aria-label='Footer navigation'>
        <div class='grid grid-cols-2 gap-x-6 gap-y-8 sm:grid-cols-3 lg:grid-cols-5 lg:gap-x-8 xl:gap-x-12'>
          {
            footer.nav.map((section: { title: string; links: { href: string; text: string }[] }) => (
              <div>
                <h3 class='mb-3 text-base font-bold tracking-wider text-white sm:mb-4 sm:text-lg'>{section.title}</h3>
                <ul class='space-y-2 list-none sm:space-y-3'>
                  {section.links.map((link) => {
                    return (
                      <li>
                        {link.text !== 'Terms & Conditions' && link.text !== 'Schedule of Charges' ? (
                          <Link
                            href={link.href}
                            class='text-sm font-normal no-underline transition-colors duration-200 text-zinc-400 hover:text-white sm:text-base'
                          >
                            {link.text}
                          </Link>
                        ) : (
                          <a
                            href={link.href}
                            class='text-sm font-normal no-underline transition-colors duration-200 text-zinc-400 hover:text-white sm:text-base'
                            target='_blank'
                          >
                            {link.text}
                          </a>
                        )}
                      </li>
                    );
                  })}
                </ul>
              </div>
            ))
          }
        </div>
      </nav>

      <div
        class='flex flex-col gap-6 items-center pt-8 border-t border-neutral-700 sm:flex-row sm:justify-between sm:pt-10 lg:pt-12'
      >
        <Link href='/' aria-label='Jingle Pay Home'>
          <Image src={logo} alt='Jingle Pay Logo' class='w-auto h-8 sm:h-10 lg:h-12' loading='lazy' decoding='async' />
        </Link>

        <div class='flex gap-4 sm:gap-5 lg:gap-6'>
          {
            socialLinks.map((social) => (
              <a
                href={social.href}
                target='_blank'
                rel='noopener noreferrer'
                class='flex justify-center items-center w-6 h-6 rounded-full transition-colors duration-200 text-zinc-300 hover:text-white sm:h-7 sm:w-7 lg:h-8 lg:w-8'
                aria-label={social.alt}
              >
                <span class='sr-only'>{social.alt}</span>
                <Image src={social.icon} alt='' class='w-4 h-4 sm:h-5 sm:w-5' loading='lazy' decoding='async' />
              </a>
            ))
          }
        </div>
      </div>

      <div class='pt-8 border-t border-neutral-700 sm:pt-10 lg:pt-12 lg:text-start'>
        <p class='text-xs font-normal text-neutral-400 sm:text-sm'>{footer.copyrights}</p>
      </div>
    </div>
  </div>
</footer>
